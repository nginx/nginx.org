<!--
  Copyright (C) Igor Sysoev
  Copyright (C) Nginx, Inc.
  -->

<!DOCTYPE article SYSTEM "../../dtd/article.dtd">

<article name="nginx"
         link="/cn/"
         lang="cn"
         rev="3">


<section>

<para>
nginx ("<i>engine x</i>") 是一个HTTP网络服务器、反向代理、
内容缓存、负载均衡器、TCP/UDP代理服务器以及邮件代理服务器。
最初由<link url="http://sysoev.ru/en/">Igor Sysoev</link>编写，
并根据<link url="../LICENSE">2条款BSD许可证</link>发布。
</para>

<para>
nginx 以灵活性和高性能且低资源消耗著称，nginx 是：

<list type="bullet">
<listitem>
世界上最受欢迎的网络服务器
[<link url="https://news.netcraft.com/archives/category/web-server-survey/">Netcraft</link>];
</listitem>

<listitem>
始终是最受欢迎的
<link url="https://hub.docker.com/search?q=nginx">Docker 镜像</link>
[<link url="https://www.datadoghq.com/docker-adoption/#six">DataDog</link>]；
</listitem>

<listitem>
为多个
<link url="https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/">
Kubernetes 的 Ingress 控制器</link> 提供支持，包括
<link url="https://github.com/nginxinc/kubernetes-ingress">我们自己的</link>。
</listitem>

</list>
</para>

<para>
企业发行版、商业支持和培训
<link doc="enterprise.xml">由 F5, Inc. 提供</link>。
</para>

</section>


<section id="basic_http_features"
        name="基本的HTTP服务器特性">

<para>
<list type="bullet">

<listitem>
处理静态文件，
<link doc="docs/http/ngx_http_index_module.xml">索引</link>
文件，以及
<link doc="docs/http/ngx_http_autoindex_module.xml">自动索引</link>；
<link doc="docs/http/ngx_http_core_module.xml" 
       id="open_file_cache">打开文件描述符缓存</link>；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_proxy_module.xml">使用缓存加速反向代理</link>；
<link doc="docs/http/ngx_http_upstream_module.xml">简单负载均衡以及容错</link>；
</listitem>

<listitem>
加速支持，包括缓存
<link doc="docs/http/ngx_http_fastcgi_module.xml">FastCGI</link>、
<link doc="docs/http/ngx_http_uwsgi_module.xml">uwsgi</link>、
<link doc="docs/http/ngx_http_scgi_module.xml">SCGI</link> 和
<link doc="docs/http/ngx_http_memcached_module.xml">memcached</link> 服务器；
<link doc="docs/http/ngx_http_upstream_module.xml">负载均衡和故障容错</link>；
</listitem>

<listitem>
模块化架构。过滤器包括
<link doc="docs/http/ngx_http_gzip_module.xml">gzip</link>、
字节范围、分块响应、
<link doc="docs/http/ngx_http_xslt_module.xml">XSLT</link>、
<link doc="docs/http/ngx_http_ssi_module.xml">SSI</link> 和
<link doc="docs/http/ngx_http_image_filter_module.xml">图像转换</link> 过滤器。
如果由代理服务器或 FastCGI/uwsgi/SCGI 服务器处理，单个页面中的多个 SSI 插入可以并行处理；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_ssl_module.xml">支持SSL，TLS SNI</link>。
</listitem>

</list>
</para>

</section>


<section id="other_http_features"
        name="其他的HTTP服务器特性">

<para>
<list type="bullet">

<listitem>
基于名字和IP的
<link doc="docs/http/request_processing.xml">虚拟主机</link>；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_core_module.xml" 
       id="keepalive_timeout">Keep-alive</link>
和pipelined连接支持；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_log_module.xml" id="log_format">访问日志格式</link>、
<link doc="docs/http/ngx_http_log_module.xml" id="access_log">缓冲日志写入</link>、
<link doc="docs/control.xml" id="logs">快速日志轮换</link> 和
<link doc="docs/syslog.xml">syslog 日志记录</link>；
</listitem>

<listitem>
3xx-5xx错误代码
<link doc="docs/http/ngx_http_core_module.xml" 
       id="error_page">重定向</link>；
</listitem>

<listitem>
重写（rewrite）模块：
<link doc="docs/http/ngx_http_rewrite_module.xml">
使用正则表达式改变URI</link>；
</listitem>

<listitem>
根据
<link doc="docs/http/ngx_http_geo_module.xml">客户端地址</link>
执行不同的
<link doc="docs/http/ngx_http_rewrite_module.xml" id="if">功能</link>；
</listitem>

<listitem>
基于
<link doc="docs/http/ngx_http_access_module.xml">客户端 IP 地址</link>、
<link doc="docs/http/ngx_http_auth_basic_module.xml">密码（HTTP 基本认证）</link> 和
<link doc="docs/http/ngx_http_auth_request_module.xml">子请求的结果</link>进行访问控制；
</listitem>

<listitem>
验证
<link doc="docs/http/ngx_http_referer_module.xml">HTTP referer</link>；
</listitem>

<listitem>
支持 <link doc="docs/http/ngx_http_dav_module.xml">PUT、DELETE、MKCOL、COPY 和 MOVE</link> 方法；
</listitem>

<listitem>
支持
<link doc="docs/http/ngx_http_flv_module.xml">FLV</link> 和
<link doc="docs/http/ngx_http_mp4_module.xml">MP4</link> 流媒体；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_core_module.xml" id="limit_rate">响应速率限制</link>；
</listitem>

<listitem>
限制来自一个地址的
<link doc="docs/http/ngx_http_limit_conn_module.xml">连接</link> 或
<link doc="docs/http/ngx_http_limit_req_module.xml">请求</link> 的数量；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_geoip_module.xml">基于 IP 的地理定位</link>；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_split_clients_module.xml">A/B 测试</link>；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_mirror_module.xml">请求镜像</link>；
</listitem>

<listitem>
嵌入式 <link doc="docs/http/ngx_http_perl_module.xml">Perl</link>；
</listitem>

<listitem>
<link doc="docs/njs/index.xml">njs</link> 脚本语言。
</listitem>

</list>
</para>

</section>


<section id="mail_proxy_server_features"
        name="邮件代理服务器特性">

<para>
<list type="bullet">

<listitem>
用户重定向到
<link doc="docs/mail/ngx_mail_imap_module.xml">IMAP</link> 或
<link doc="docs/mail/ngx_mail_pop3_module.xml">POP3</link> 服务器，使用外部 HTTP
<link doc="docs/mail/ngx_mail_auth_http_module.xml">认证</link> 服务器；
</listitem>

<listitem>
使用外部 HTTP
<link doc="docs/mail/ngx_mail_auth_http_module.xml">认证</link> 服务器进行用户认证，并将连接重定向到内部
<link doc="docs/mail/ngx_mail_smtp_module.xml">SMTP</link> 服务器；
</listitem>

<listitem>
认证方法：

<list type="bullet">

<listitem>
<link doc="docs/mail/ngx_mail_pop3_module.xml" id="pop3_auth">POP3</link>：
USER/PASS, APOP, AUTH LOGIN/PLAIN/CRAM-MD5；
</listitem>

<listitem>
<link doc="docs/mail/ngx_mail_imap_module.xml" id="imap_auth">IMAP</link>：
LOGIN, AUTH LOGIN/PLAIN/CRAM-MD5；
</listitem>

<listitem>
<link doc="docs/mail/ngx_mail_smtp_module.xml" id="smtp_auth">SMTP</link>：
AUTH LOGIN/PLAIN/CRAM-MD5；
</listitem>

</list>
</listitem>

<listitem>
支持 <link doc="docs/mail/ngx_mail_ssl_module.xml">SSL</link>；
</listitem>

<listitem>
支持 <link doc="docs/mail/ngx_mail_ssl_module.xml" id="starttls">STARTTLS 和 STLS</link>。
</listitem>

</list>
</para>

</section>


<section id="generic_proxy_server_features"
        name="TCP/UDP 代理服务器功能">

<para>
<list type="bullet">

<listitem>
<link doc="docs/stream/ngx_stream_proxy_module.xml">通用代理</link> 支持 TCP 和 UDP；
</listitem>

<listitem>
支持 <link doc="docs/stream/ngx_stream_ssl_module.xml">SSL</link> 和 
TLS <link doc="docs/stream/ngx_stream_ssl_preread_module.xml">SNI</link>；
</listitem>

<listitem>
<link doc="docs/stream/ngx_stream_upstream_module.xml">负载均衡和故障容错</link>；
</listitem>

<listitem>
基于
<link doc="docs/stream/ngx_stream_access_module.xml">客户端地址</link> 的访问控制；
</listitem>

<listitem>
根据
<link doc="docs/stream/ngx_stream_geo_module.xml">客户端地址</link> 执行不同的功能；
</listitem>

<listitem>
限制来自一个地址的同时
<link doc="docs/stream/ngx_stream_limit_conn_module.xml">连接</link> 数量；
</listitem>

<listitem>
<link doc="docs/stream/ngx_stream_log_module.xml" id="log_format">访问日志格式</link>、
<link doc="docs/stream/ngx_stream_log_module.xml" id="access_log">缓冲日志写入</link>、
<link doc="docs/control.xml" id="logs">快速日志轮换</link> 和
<link doc="docs/syslog.xml">syslog 日志记录</link>；
</listitem>

<listitem>
<link doc="docs/stream/ngx_stream_geoip_module.xml">基于 IP 的地理定位</link>；
</listitem>

<listitem>
<link doc="docs/stream/ngx_stream_split_clients_module.xml">A/B 测试</link>；
</listitem>

<listitem>
<link doc="docs/njs/index.xml">njs</link> 脚本语言。
</listitem>

</list>
</para>

</section>


<section id="architecture_and_scalability"
        name="架构和扩展性">

<para>
<list type="bullet">

<listitem>
一个主进程和多个工作进程；
工作进程以非特权用户身份运行；
</listitem>

<listitem>
<link doc="docs/example.xml">灵活的配置</link>；
</listitem>

<listitem>
<link doc="docs/control.xml" id="reconfiguration">重新配置</link>
和 <link doc="docs/control.xml" id="upgrade">升级可执行文件</link>，不会中断客户端服务；
</listitem>

<listitem>
<link doc="docs/events.xml">支持</link>
kqueue（FreeBSD 4.1+），
epoll（Linux 2.6+），
/dev/poll（Solaris 7 11/99+），事件端口（Solaris 10），
select 和 poll；
</listitem>

<listitem>
支持各种 kqueue 特性，包括 EV_CLEAR、EV_DISABLE
（用于暂时禁用事件）、NOTE_LOWAT、EV_EOF、可用数据数量、错误代码；
</listitem>

<listitem>
支持各种 epoll 特性，包括 
EPOLLRDHUP（Linux 2.6.17+，glibc 2.8+）和 
EPOLLEXCLUSIVE（Linux 4.5+，glibc 2.24+）；
</listitem>

<listitem>
支持 sendfile（FreeBSD 3.1+，Linux 2.2+，macOS 10.5+）、sendfile64（Linux 2.4.21+）
和 sendfilev（Solaris 8 7/01+）；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_core_module.xml" id="aio">文件 AIO</link>
（FreeBSD 4.3+，Linux 2.6.22+）；
</listitem>

<listitem>
<link doc="docs/http/ngx_http_core_module.xml" id="directio">DIRECTIO</link>
（FreeBSD 4.4+，Linux 2.4+，Solaris 2.6+，macOS）；
</listitem>

<listitem>
Accept-filters（FreeBSD 4.1+，NetBSD 5.0+）和 TCP_DEFER_ACCEPT（Linux 2.4+）
<link doc="docs/http/ngx_http_core_module.xml" id="listen">支持</link>；
</listitem>

<listitem>
10,000 个非活动的 HTTP keep-alive 连接大约占用 2.5M 内存；
</listitem>

<listitem>
数据复制操作保持在最低限度。
</listitem>

</list>
</para>

</section>


<section id="tested_os_and_platforms"
        name="测试过的操作系统和平台">

<para>
<list type="bullet">

<listitem>
Linux 2.2&mdash;4 / i386;
Linux 2.6&mdash;5 / amd64;
Linux 3&mdash;4 / armv6l, armv7l, aarch64, ppc64le;
Linux 4&mdash;5 / s390x;
</listitem>

<listitem>
Linux 2.2&mdash;4 / i386;
Linux 2.6&mdash;5 / amd64;
Linux 3&mdash;4 / armv6l, armv7l, aarch64, ppc64le;
Linux 4&mdash;5 / s390x;
</listitem>

<listitem>
Solaris 9 / i386, sun4u;
Solaris 10 / i386, amd64, sun4v;
Solaris 11 / x86;
</listitem>

<listitem>
AIX 7.1 / powerpc;
</listitem>

<listitem>
HP-UX 11.31 / ia64;
</listitem>

<listitem>
macOS / ppc, i386, x86_64;
</listitem>

<listitem>
Windows XP,
Windows Server 2003,
Windows 7,
Windows 10.
</listitem>

</list>
</para>

</section>


</article>
